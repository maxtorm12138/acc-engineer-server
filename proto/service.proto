syntax = "proto3";
package acc_engineer;
import "google/protobuf/descriptor.proto";

extend google.protobuf.MessageOptions {
  optional uint64 cmd_id = 50000;
}

message RPCCommon
{
	uint64 driver_id = 1;
	bytes token = 2;
	uint64 timestamp = 3;
	bytes request_id = 4;
}

message Authentication
{
	option(cmd_id) = 1;

	message Request
	{
		string username = 1;
		string password = 2;
		string lobby = 3;
	}

	message Response
	{
	  string ticket = 1;
	  uint64 id = 2;
	
	  int64 error_code = 100;
	  string error_message = 101;
	}

	RPCCommon common = 1;
	oneof payload
	{
		Request request = 3;
		Response response = 4;
	}
}
